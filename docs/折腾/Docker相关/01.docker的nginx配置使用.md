## nginx安装

建立一个保存nginx的文件路径

```bash 
mkdir /home/data/nginx/conf
mkdir /home/data/nginx/log
mkdir /home/data/nginx/html
```

由于nginx中的文件，有些配置文件不会自动生成，而且用卷的时候会把我们想要的文件变成文件夹，所以我们要先生成一个容器，把配置文件复制出来

```bash
# 生成容器
docker run --name nginx -p 9001:80 -d nginx
# 将容器nginx.conf文件复制到宿主机
docker cp nginx:/etc/nginx/nginx.conf /home/data/nginx/conf/nginx.conf
# 将容器conf.d文件夹下内容复制到宿主机
docker cp nginx:/etc/nginx/conf.d /home/data/nginx/conf/conf.d
# 将容器中的html文件夹复制到宿主机
docker cp nginx:/usr/share/nginx/html /home/data/nginx/
```

将配置文件复制完成后，将该nginx容器删除

```bash
docker rm -f nginx
```

然后我们在`/home/data/nginx`文件夹下建立`docker-compose.yml`文件，由于我使用的是自建的网络，所以在生成容器前要建一个网络

```yml
version: '3'

services:
  web:
    container_name: nginx
    image: nginx
    restart: always
    ports:
      - 9002:80
    volumes:
      - ./conf/nginx.conf:/etc/nginx/nginx.conf
      - ./conf/conf.d:/etc/nginx/conf.d
      - ./log:/var/log/nginx
      - ./html:/usr/share/nginx/html
    networks:
        - my_net
        
networks:
    my_net:
        name: lqh_net
```

然后在这个文件夹下执行命令，生成容器

```bash
docker-compose up -d
```

生成完成后，就可以在服务器上输入`IP:9002`，然后就可以看到生成的Nginx服务了

## nginx简单使用

我们可以修改html文件夹下的`index.html`文件，就可以看到网页上显示的是你写的效果。

我是暂时使用这个搭建图床，那么我将图片放入html文件夹后，在地址栏输入图片的地址，就能看到对应的图片了。